!function(c,d){"object"==typeof exports&&typeof module<"u"?d(exports):"function"==typeof define&&define.amd?define(["exports"],d):d((c=c||self).gojek={})}(this,function(c){"use strict";function d(t,u,s,r){return new(s||(s=Promise))(function(e,a){function o(f){try{p(r.next(f))}catch(n){a(n)}}function i(f){try{p(r.throw(f))}catch(n){a(n)}}function p(f){f.done?e(f.value):new s(function(n){n(f.value)}).then(o,i)}p((r=r.apply(t,u||[])).next())})}function b(t,u){var s,r,e,a,o={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(p){return function(f){return function(n){if(s)throw new TypeError("Generator is already executing.");for(;o;)try{if(s=1,r&&(e=2&n[0]?r.return:n[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,n[1])).done)return e;switch(r=0,e&&(n=[2&n[0],e.value]),n[0]){case 0:case 1:e=n;break;case 4:return o.label++,{value:n[1],done:!1};case 5:o.label++,r=n[1],n=[0];continue;case 7:n=o.ops.pop(),o.trys.pop();continue;default:if(!(e=(e=o.trys).length>0&&e[e.length-1])&&(6===n[0]||2===n[0])){o=0;continue}if(3===n[0]&&(!e||n[1]>e[0]&&n[1]<e[3])){o.label=n[1];break}if(6===n[0]&&o.label<e[1]){o.label=e[1],e=n;break}if(e&&o.label<e[2]){o.label=e[2],o.ops.push(n);break}e[2]&&o.ops.pop(),o.trys.pop();continue}n=u.call(t,o)}catch(k){n=[6,k],r=0}finally{s=e=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([p,f])}}}var l,m,h,w,t;function y(){var t=window;return t.AnalyticsModule?l.ANDROID:t.webkit&&t.webkit.messageHandlers&&t.webkit.messageHandlers.AnalyticsModule?l.IOS:l.UNKNOWN}function v(t,u,s,r){var a=JSON.stringify({module:t,method:u,data:r,callback:s}),o=window;switch(y()){case l.ANDROID:o[t][u](a);break;case l.IOS:o.webkit.messageHandlers[t].postMessage(a);break;default:throw"Unexpected method "+u+" for module "+t}}(t=l||(l={})).IOS="iOS",t.ANDROID="Android",t.UNKNOWN="unknown",c.getAppInfo=function(){return d(this,void 0,Promise,function(){return b(this,function(t){return[2,new Promise(function(u,s){m={onComplete:function(r){if(r.success){var e={platform:y(),appVersion:r.data.appVersion,sdkVersion:"0.3.0"};u(e)}else s(r.errors[0])}},v("AppInfoModule","getAppVersion","window.gojek.setAppVersion('$DATA')")})]})})},c.getUserInfo=function(t){return d(this,void 0,Promise,function(){return b(this,function(u){return[2,new Promise(function(s,r){h={onComplete:function(e){var a,o,i;e.success?s((o={},i={},"userName"in(a=e).data&&(o.name=a.data.userName,i.user=o),"userEmail"in a.data&&(o.email=a.data.userEmail,i.user=o),"userPhone"in a.data&&(o.phone=a.data.userPhone,i.user=o),"userLocation"in a.data&&(i.location=a.data.userLocation),"device"in a.data&&(i.device=a.data.device),i)):r(e.errors[0])}},v("UserInfoModule","getUserInfo","window.gojek.setUserInfo('$DATA')",{scopes:t})})]})})},c.onEventSent=function(t){w&&(w(JSON.parse(t)),w=void 0)},c.sendEvent=function(t,u,s){s&&(w=s),v("AnalyticsModule","track","window.gojek.onEventSent('$DATA')",{eventName:t,eventData:u})},c.setAppVersion=function(t){m&&m.onComplete(JSON.parse(t))},c.setUserInfo=function(t){h&&h.onComplete(JSON.parse(t))},Object.defineProperty(c,"__esModule",{value:!0})});
//# sourceMappingURL=scripts.a2ba558ce7d25116.js.map